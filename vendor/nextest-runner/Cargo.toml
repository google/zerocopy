# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2024"
rust-version = "1.89"
name = "nextest-runner"
version = "0.105.0"
build = false
exclude = [
    "src/**/AGENTS.md",
    "src/**/CLAUDE.md",
]
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "Core runner logic for cargo nextest."
documentation = "https://docs.rs/nextest-runner"
readme = "README.md"
keywords = [
    "nextest",
    "test-runner",
]
categories = ["development-tools::testing"]
license = "MIT OR Apache-2.0"
repository = "https://github.com/nextest-rs/nextest"
resolver = "2"

[features]
experimental-tokio-console = [
    "dep:console-subscriber",
    "dep:tracing-subscriber",
    "tokio/tracing",
]
self-update = [
    "dep:hex",
    "dep:self_update",
    "dep:http",
    "dep:mukti-metadata",
    "dep:sha2",
]

[lib]
name = "nextest_runner"
path = "src/lib.rs"

[[test]]
name = "integration"
path = "tests/integration/main.rs"

[dependencies.aho-corasick]
version = "1.1.4"

[dependencies.async-scoped]
version = "0.9.0"
features = ["use-tokio"]

[dependencies.atomicwrites]
version = "0.4.4"

[dependencies.bstr]
version = "1.12.1"
features = ["std"]
default-features = false

[dependencies.bytes]
version = "1.11.0"

[dependencies.bytesize]
version = "2.3.1"
features = ["serde"]

[dependencies.camino]
version = "1.2.2"
features = ["serde1"]

[dependencies.camino-tempfile]
version = "1.4.1"

[dependencies.cargo_metadata]
version = "0.23.1"

[dependencies.cfg-if]
version = "1.0.4"

[dependencies.chrono]
version = "0.4.43"
features = ["serde"]

[dependencies.config]
version = "0.15.19"
features = [
    "toml",
    "preserve_order",
]
default-features = false

[dependencies.console]
version = "0.16.2"

[dependencies.console-subscriber]
version = "0.5.0"
optional = true

[dependencies.countio]
version = "0.2.19"

[dependencies.crossterm]
version = "0.29.0"
features = ["event-stream"]

[dependencies.debug-ignore]
version = "1.0.5"

[dependencies.derive-where]
version = "1.6.0"

[dependencies.duct]
version = "1.1.1"

[dependencies.etcetera]
version = "0.11.0"

[dependencies.future-queue]
version = "0.4.0"

[dependencies.futures]
version = "0.3.31"

[dependencies.guppy]
version = "0.17.24"

[dependencies.hex]
version = "0.4.3"
optional = true

[dependencies.home]
version = "0.5.12"

[dependencies.http]
version = "1.4.0"
optional = true

[dependencies.humantime-serde]
version = "1.1.1"

[dependencies.iddqd]
version = "0.3.17"
features = ["serde"]

[dependencies.indexmap]
version = "2.13.0"
features = ["serde"]

[dependencies.indicatif]
version = "0.18.3"

[dependencies.is_ci]
version = "1.2.0"

[dependencies.itertools]
version = "0.14.0"

[dependencies.miette]
version = "7.6.0"

[dependencies.mukti-metadata]
version = "0.3.0"
optional = true

[dependencies.newtype-uuid]
version = "1.3.2"
features = [
    "v4",
    "serde",
]

[dependencies.nextest-filtering]
version = "0.18.0"

[dependencies.nextest-metadata]
version = "0.13.3"

[dependencies.nextest-workspace-hack]
version = "0.1.0"

[dependencies.owo-colors]
version = "4.2.3"

[dependencies.petgraph]
version = "0.8.3"

[dependencies.pin-project-lite]
version = "0.2.16"

[dependencies.quick-junit]
version = "0.5.2"

[dependencies.rand]
version = "0.9.2"

[dependencies.regex]
version = "1.12.2"

[dependencies.sapling-streampager]
version = "0.12.0"

[dependencies.self_update]
version = "0.42.0"
features = [
    "archive-tar",
    "compression-flate2",
]
optional = true
default-features = false

[dependencies.semver]
version = "1.0.27"

[dependencies.serde]
version = "1.0.228"
features = ["derive"]

[dependencies.serde_ignored]
version = "0.1.14"

[dependencies.serde_json]
version = "1.0.149"

[dependencies.serde_path_to_error]
version = "0.1.20"

[dependencies.sha2]
version = "0.10.9"
optional = true

[dependencies.shell-words]
version = "1.1.1"

[dependencies.smallvec]
version = "1.15.1"

[dependencies.smol_str]
version = "0.3.2"
features = [
    "serde",
    "serde",
]

[dependencies.strip-ansi-escapes]
version = "0.2.1"

[dependencies.supports-unicode]
version = "3.0.0"

[dependencies.swrite]
version = "0.1.0"

[dependencies.tar]
version = "0.4.44"

[dependencies.target-spec]
version = "3.4.2"
features = [
    "custom",
    "summaries",
]

[dependencies.target-spec-miette]
version = "0.4.5"

[dependencies.thiserror]
version = "2.0.18"

[dependencies.tokio]
version = "1.49.0"
features = [
    "fs",
    "io-std",
    "io-util",
    "macros",
    "process",
    "rt",
    "rt-multi-thread",
    "signal",
    "sync",
    "time",
]

[dependencies.tokio-stream]
version = "0.1.18"
features = ["signal"]

[dependencies.toml]
version = "0.9.11"

[dependencies.toml_edit]
version = "0.24.0"
features = ["serde"]

[dependencies.tracing]
version = "0.1.44"

[dependencies.tracing-subscriber]
version = "0.3.22"
features = [
    "std",
    "tracing-log",
    "fmt",
]
optional = true
default-features = false

[dependencies.unicode-ident]
version = "1.0.22"

[dependencies.unicode-normalization]
version = "0.1.25"

[dependencies.unicode-width]
version = "0.2.2"

[dependencies.xxhash-rust]
version = "0.8.15"
features = [
    "xxh3",
    "xxh64",
]

[dependencies.zip]
version = "7.2.0"
features = ["zstd"]
default-features = false

[dependencies.zstd]
version = "0.13.3"
features = ["zstdmt"]

[dev-dependencies.camino-tempfile-ext]
version = "0.3.3"

[dev-dependencies.color-eyre]
version = "0.6.5"

[dev-dependencies.indoc]
version = "2.0.7"

[dev-dependencies.insta]
version = "1.46.1"
default-features = false

[dev-dependencies.maplit]
version = "1.0.2"

[dev-dependencies.newtype-uuid]
version = "1.3.2"
features = [
    "v4",
    "proptest1",
]

[dev-dependencies.nextest-metadata]
version = "0.13.3"
features = ["proptest1"]

[dev-dependencies.pathdiff]
version = "0.2.3"
features = ["camino"]

[dev-dependencies.pretty_assertions]
version = "1.4.1"

[dev-dependencies.proptest]
version = "1.9.0"

[dev-dependencies.test-case]
version = "3.3.1"

[dev-dependencies.test-strategy]
version = "0.4.3"

[dev-dependencies.tracing-subscriber]
version = "0.3.22"
features = [
    "std",
    "tracing-log",
    "fmt",
]
default-features = false

[target.'cfg(any(all(target_arch = "x86_64", any(target_os = "linux", target_os = "freebsd", target_os = "illumos")), all(target_arch = "aarch64", any(target_os = "macos", target_os = "freebsd", target_os = "illumos"))))'.dependencies.usdt]
version = "0.6.0"

[target.'cfg(any(target_arch = "riscv32", target_arch = "riscv64"))'.dependencies.self_update]
version = "0.42.0"
features = [
    "archive-tar",
    "compression-flate2",
]
optional = true
default-features = true

[target.'cfg(not(any(target_arch = "riscv32", target_arch = "riscv64")))'.dependencies.self_update]
version = "0.42.0"
features = [
    "archive-tar",
    "compression-flate2",
    "rustls",
]
optional = true
default-features = false

[target."cfg(unix)".dependencies.libc]
version = "0.2.180"

[target."cfg(unix)".dependencies.nix]
version = "0.31.1"
features = ["signal"]
default-features = false

[target."cfg(windows)".dependencies.dunce]
version = "1.0.5"

[target."cfg(windows)".dependencies.win32job]
version = "2.0.3"

[target."cfg(windows)".dependencies.windows-sys]
version = "0.61.2"
features = [
    "Win32_Foundation",
    "Win32_Globalization",
    "Win32_Security",
    "Win32_Storage_FileSystem",
    "Win32_System_Console",
    "Win32_System_JobObjects",
    "Win32_System_Pipes",
]

[lints.clippy]
format_push_string = "warn"
ref_option = "warn"
