// Copyright 2025 The Fuchsia Authors
//
// Licensed under a BSD-style license <LICENSE-BSD>, Apache License, Version 2.0
// <LICENSE-APACHE or https://www.apache.org/licenses/LICENSE-2.0>, or the MIT
// license <LICENSE-MIT or https://opensource.org/licenses/MIT>, at your option.
// This file may not be copied, modified, or distributed except according to
// those terms.

{
    // Extra cfgs added to rust-analyzer.
    "rust-analyzer.cargo.cfgs": [
        // Expensive-to-compile tests can `cfg(not(rust_analyzer))` to avoid
        // slowing developers down.
        "rust_analyzer",
        // Converting unions to bytes currently requires a `cfg` feature.
        // Used in some tests.
        // See https://github.com/google/zerocopy/discussions/1802.
        "zerocopy_derive_union_into_bytes"
    ],
    // The above list is duplicated so that the `cfg`s are also used in `cargo check`.
    // See https://github.com/rust-lang/rust-analyzer/issues/19926.
    "rust-analyzer.cargo.extraEnv": {
        "RUSTFLAGS": "--cfg rust_analyzer --cfg zerocopy_derive_union_into_bytes"
    }
}