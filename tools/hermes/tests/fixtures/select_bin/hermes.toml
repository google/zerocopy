description = """
Purpose: Validates explicit binary artifact targeting via CLI.
Behavior: A package possesses both a library and a binary. Runs `--bin app` to explicitly verify the `src/main.rs` binary and guarantees the library artifact is entirely ignored.
"""


[test]
expected_status = "known_bug"
args = ["verify", "--bin", "app", "--allow-sorry"]

[[test.artifact]]
package = "select_bin"
target = "app"
should_exist = true

[[test.artifact]]
package = "select_bin"
target = "select_bin"
should_exist = false

[[test.command]]
args = ["--bin", "app"]
should_not_exist = false

[[test.command]]
args = ["--lib"]
should_not_exist = true
