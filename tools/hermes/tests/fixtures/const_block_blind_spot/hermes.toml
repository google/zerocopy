description = """
Purpose: Tests Hermes' restriction against verifying items nested inside expressions/blocks.
Behavior: Defines an annotated function inside a `const _: () = { ... }` block. Expects Hermes to explicitly reject it with a "Nested item error".
"""


[test]
args = ["verify", "--allow-sorry"]
expected_status = "failure"
expected_stderr = """

=== Hermes Verification Failed ===

[Hermes Error] Nested item error: Hermes cannot verify items defined inside function bodies or other blocks. Move this item to the module level if you wish to verify it.
Error: Aborting due to 1 previous errors.
"""
