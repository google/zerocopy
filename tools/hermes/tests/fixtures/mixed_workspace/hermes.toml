description = """
Purpose: Checks target segregation across workspaces.
Behavior: Invokes `-p app` on a monorepo holding `app` and `dep`. Verifies extraction strictly constructs `app` without generating artifacts mapping the unrequested independent workspace sibling `dep`.
"""


[test]
expected_status = "known_bug"
args = ["verify", "-p", "app", "--allow-sorry"]

[[test.artifact]]
package = "app"
target = "app"
should_exist = true
matches_expected_dir = "expected"
kind = "lean"

[[test.artifact]]
package = "dep"
target = "dep"
should_exist = false
matches_expected_dir = "expected"
